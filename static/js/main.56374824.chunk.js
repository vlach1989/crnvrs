(this.webpackJsonpcrnvrs=this.webpackJsonpcrnvrs||[]).push([[0],{299:function(e,t,n){e.exports=n(487)},443:function(e,t,n){},486:function(e,t,n){},487:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),c=n(52),o=n.n(c),i=n(12),s=n(127),l=n(269),u=n(46),d=n(14).f.deepKeyMirror(Object(u.a)({},i.h,{},{CONFIRMED_CASES:{ADD:null}})),m=Object(u.a)({},i.b),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.CONFIRMED_CASES.ADD:return i.j.add(e,t);default:return e}};n(441),n(442),n(443),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var p=n(10),v=n.n(p),f=n(24),b=n.n(f),g=n(270),C=n.n(g),y={confirmedCasesData:"https://cors-anywhere.herokuapp.com/https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_global.csv"},O=i.i.add(d.CONFIRMED_CASES),j={loadCsvData:function(){return function(e){C.a.parse(y.confirmedCasesData,{download:!0,header:!0,complete:function(t){if(!t||!t.data)throw Error("Data loading failed!");var n=[];t.data.forEach((function(e){var t=e["Country/Region"],a=e["Province/State"];delete e["Country/Region"],delete e["Province/State"],delete e.Lat,delete e.Long;var r=t;a&&(r+="_"+a);var c=[];b.a.forIn(e,(function(e,t){var n=v()(t).toISOString(),a=Number(e);a&&c.push({date:n,value:a})}));var o=c.length-1,i=c[o]&&c[o].value||0,s=c[o-1]&&c[o-1].value||0,l=c[o-3]&&c[o-3].value||0,u=c[o-7]&&c[o-7].value||0,d=i-s,m=100*(i-s)/s,h=i-l,p=100*(i-l)/l,f=i-u,g=100*(i-u)/u,C={key:r,data:{name:a?"".concat(a," (").concat(t,")"):t,country:t,province:a,current:i,previousDay:s,threeDaysBefore:l,weekBefore:u,Daily:{abs:d,rel:m},ThreeDays:{abs:h,rel:p},Weekly:{abs:f,rel:g},cases:c}};n.push(C)})),e(O(n))}})}}},E=Object(u.a)({},i.a,{specific:{confirmedCases:j}}),S=n(4),k=i.k.getAll((function(e){return e.specific.confirmedCases})),w=Object(S.createSelector)([k],(function(e){return b.a.filter(e,(function(e){return e.data.current>99}))})),D=Object(S.createSelector)([w,function(e,t){return i.m.getDataByComponentKey(e,t)}],(function(e,t){var n=t.sorting;return b.a.orderBy(e,[n[0]],[n[1]])})),N={getAll:k,getAllSortedByCases:Object(S.createSelector)([k],(function(e){return b.a.orderBy(e,["data.current"],["desc"])})),getAllSortedByChange:Object(S.createSelector)([k],(function(e){return b.a.orderBy(e,["data.dailyChangeAbsolute"],["desc"])})),getAllSortedByComponent:D,getFilteredDataByConfirmedCasesThreshold:Object(S.createSelector)([k,function(e,t){return t},function(e,t,n){return n}],(function(e,t,n){if(e.length){var a=b.a.filter(e,(function(e){return b.a.includes(n,e.key)})),r=null;return a&&(r=a.map((function(e){var n=[],a=1;return b.a.forEach(e.data.cases,(function(e){e.value>=t&&(n.push(Object(u.a)({},e,{day:a})),a++)})),Object(u.a)({},e,{data:Object(u.a)({},e.data,{cases:n})})}))),r}return null})),getSum:Object(S.createSelector)([k],(function(e){var t=0,n=0,a=0,r=0;return b.a.forEach(e,(function(e){if(e.data){var c=e.data;t+=c.current?c.current:0,n+=c.previousDay?c.previousDay:0,a+=c.threeDaysBefore?c.threeDaysBefore:0,r+=c.weekBefore?c.weekBefore:0}})),e&&e.length?{current:t,previousDay:n,threeDaysBefore:a,weekBefore:r}:null}))},A=Object(u.a)({},i.d,{specific:{confirmedCases:N}}),B=n(35),P=n(36),T=n(42),_=n(37),F=n(58),K=n(43),I=n(76),L=n(280),x=n(50),R=function(e){function t(e){return Object(B.a)(this,t),Object(T.a)(this,Object(_.a)(t).call(this,e))}return Object(K.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){return this.props.data?r.a.createElement(x.b,null,r.a.createElement(L.a,{key:"time-scale-line",data:this.props.data,keySourcePath:"key",nameSourcePath:"data.name",serieDataSourcePath:"data.cases",xSourcePath:"day",ySourcePath:"value",isSerie:!0,pointRadius:3,xValuesSize:1.8,xOptions:{name:"Day"},yScaleType:"logarithmic",yValuesSize:3.8,yOptions:{name:"Confirmed cases",min:1e3,max:1e6,unit:"cases"},sorting:[["day","asc"]],height:18,legend:!0,withPoints:!0,pointOptions:{radius:4,showOnHover:!0}})):null}}]),t}(r.a.PureComponent),M=Object(i.o)((function(e,t){return{data:A.specific.confirmedCases.getFilteredDataByConfirmedCasesThreshold(e,t.threshold,t.countries)}}),(function(e,t){return{}}))(R),V=n(8),W=n.n(V),z=(n(486),function(e){function t(){return Object(B.a)(this,t),Object(T.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){var e=W()("crnvrs-card",{"width-2":2===this.props.col,"height-2":2===this.props.row,"height-3":3===this.props.row});return r.a.createElement("div",{className:e},r.a.createElement("div",{className:"crnvrs-card-header"},r.a.createElement("div",{className:"crnvrs-card-title"},this.props.title,r.a.createElement("span",null,this.props.subtitle?"(".concat(this.props.subtitle,")"):null)),this.props.switch),r.a.createElement("div",{className:"crnvrs-card-content"},this.props.children))}}]),t}(r.a.PureComponent)),H=function(e){var t=W()("crnvrs-card-switch-option",{active:e.active,disabled:e.disabled});return r.a.createElement("div",{className:t,onClick:e.onClick},e.children)},J=function(e){function t(){return Object(B.a)(this,t),Object(T.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(P.a)(t,[{key:"onOptionClick",value:function(e){e!==this.props.activeOption&&this.props.onChange(e)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"crnvrs-card-switch"},this.props.options&&this.props.options.map((function(t){return r.a.createElement(H,{active:e.props.active===t,onClick:e.onOptionClick.bind(e,t)},t)})))}}]),t}(r.a.PureComponent),q=[{key:"1",label:1},{key:"20",label:20},{key:"100",label:100},{key:"500",label:500},{key:"1000",label:1e3}],G=function(e){function t(e){var n;return Object(B.a)(this,t),(n=Object(T.a)(this,Object(_.a)(t).call(this,e))).state={selectedAreas:["Spain","Italy","Czechia","US","Norway"],threshold:q[4]},n.onAreaChange=n.onAreaChange.bind(Object(F.a)(n)),n.onThresholdChange=n.onThresholdChange.bind(Object(F.a)(n)),n}return Object(K.a)(t,e),Object(P.a)(t,[{key:"onAreaChange",value:function(e){var t=e.map((function(e){return e.key})),n=b.a.sortBy(t);this.setState({selectedAreas:n})}},{key:"onThresholdChange",value:function(e){this.setState({threshold:e})}},{key:"render",value:function(){return r.a.createElement(z,{title:"Confirmed cases progress",subtitle:"from the day with at least 1000 cases",col:2,row:3},r.a.createElement(I.e,{value:this.state.selectedAreas,optionLabel:"data.name",optionValue:"key",options:this.props.allAreas,multi:!0,onChange:this.onAreaChange,clearable:!1}),r.a.createElement(M,{threshold:this.state.threshold.label,countries:this.state.selectedAreas}))}}]),t}(r.a.PureComponent),U=Object(i.o)((function(e,t){return{allAreas:A.specific.confirmedCases.getAllSortedByCases(e)}}),(function(e,t){return{}}))(G),$=function(e){function t(e){var n;return Object(B.a)(this,t),(n=Object(T.a)(this,Object(_.a)(t).call(this,e))).onContentChange=n.onContentChange.bind(Object(F.a)(n)),n}return Object(K.a)(t,e),Object(P.a)(t,[{key:"onContentChange",value:function(){}},{key:"render",value:function(){return r.a.createElement(z,{title:"Total confirmed cases",row:3},r.a.createElement("table",{className:"crnvrs-table"},r.a.createElement("tr",null,r.a.createElement("th",null,"Country/province"),r.a.createElement("th",{className:"crnvrs-table-column-right"},"Cases")),this.props.allAreas.map((function(e,t){return r.a.createElement("tr",null,r.a.createElement("td",null,t+1,". ",e.data.name),r.a.createElement("td",{className:"crnvrs-table-column-right"},e.data.current&&e.data.current.toLocaleString()))}))))}}]),t}(r.a.PureComponent),Q=Object(i.o)((function(e,t){return{allAreas:A.specific.confirmedCases.getAllSortedByComponent(e,t.componentKey)}}),(function(e,t){return{}}))($),X=function(e){function t(e){var n;return Object(B.a)(this,t),(n=Object(T.a)(this,Object(_.a)(t).call(this,e))).onContentChange=n.onContentChange.bind(Object(F.a)(n)),n}return Object(K.a)(t,e),Object(P.a)(t,[{key:"onContentChange",value:function(e){this.props.setActiveContentOption(e),this.onOrderChange(e)}},{key:"onOrderChange",value:function(e,t,n){var a=this.props.sorting[0].split("."),r=this.props.sorting[1],c=e||a[1],o=t||a[2],i=r||n;this.props.setSorting(["data.".concat(c,".").concat(o),i])}},{key:"render",value:function(){var e=this,t=this.props.sorting[0].split(".")[2],n=W()("crnvrs-table-column-right sortable",{active:"abs"===t}),a=W()("crnvrs-table-column-right sortable",{active:"rel"===t});return r.a.createElement(z,{title:"Change",row:3,switch:r.a.createElement(J,{onChange:this.onContentChange,options:this.props.contentOptions,active:this.props.activeContentOption})},r.a.createElement("table",{className:"crnvrs-table"},r.a.createElement("tr",null,r.a.createElement("th",null,"Country/province"),r.a.createElement("th",{onClick:this.onOrderChange.bind(this,null,"abs",null),className:n},"Abs"),r.a.createElement("th",{onClick:this.onOrderChange.bind(this,null,"rel",null),className:a},"%")),this.props.allSortedByComponent.map((function(t,n){var a=t.data[e.props.activeContentOption].abs,c=t.data[e.props.activeContentOption].rel,o=W()("crnvrs-table-column-right",{red:c>0});return r.a.createElement("tr",null,r.a.createElement("td",null,n+1,". ",t.data.name),r.a.createElement("td",{className:"crnvrs-table-column-right"},a&&a.toLocaleString()),r.a.createElement("td",{className:o},c&&c.toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:1})))}))))}}]),t}(r.a.PureComponent),Y=Object(i.o)((function(e,t){return{allSortedByComponent:A.specific.confirmedCases.getAllSortedByComponent(e,t.componentKey),contentOptions:A.components.get(e,t.componentKey,"contentOptions"),activeContentOption:A.components.get(e,t.componentKey,"activeContentOption"),sorting:A.components.get(e,t.componentKey,"sorting")}}),(function(e,t){return{setActiveContentOption:function(n){e(E.components.set(t.componentKey,"activeContentOption",n))},setSorting:function(n){e(E.components.set(t.componentKey,"sorting",n))}}}))(X),Z=function(e){function t(e){return Object(B.a)(this,t),Object(T.a)(this,Object(_.a)(t).call(this,e))}return Object(K.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){return r.a.createElement(z,{title:"Cases worldwide"},this.props.cases?this.renderContent():null)}},{key:"renderContent",value:function(){var e=this.props.cases,t=100*(e.current-e.previousDay)/e.current,n=100*(e.current-e.weekBefore)/e.current;return r.a.createElement("div",{className:"crnvrs-overview"},r.a.createElement("div",{className:"crnvrs-overview-title"},e.current.toLocaleString()),r.a.createElement("div",{className:"crnvrs-overview-subtitle"},r.a.createElement("em",null,"+".concat(t.toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:1}))," %")," daily change"),r.a.createElement("div",{className:"crnvrs-overview-subtitle"},r.a.createElement("em",null,"+".concat(n.toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:1}))," %")," weekly change"))}}]),t}(r.a.PureComponent),ee=Object(i.o)((function(e,t){return{cases:A.specific.confirmedCases.getSum(e)}}),(function(e,t){return{}}))(Z),te=function(e){var t=Object(i.f)(i.t,Object(i.s)(e));return Object(i.q)(Object(i.g)({specific:Object(i.g)({confirmedCases:h}),app:i.e,components:i.l,router:Object(i.p)(e)}),Object(i.n)(i.r,t,i.r,Object(i.f)(i.t),i.r))}(function(e){var t=Object(s.a)(e);return Object(l.wrapHistory)(t,{primaryFocusTarget:"body",smoothScroll:!0}),t}({basename:"/crnvrs"}));te.dispatch(E.specific.confirmedCases.loadCsvData()),te.dispatch(E.components.update("ConfirmedChangeTable",{contentOptions:["Daily","Weekly"],activeContentOption:"Daily",sorting:["data.Daily.abs","desc"]})),te.dispatch(E.components.update("ConfirmedTotalTable",{sorting:["data.current","desc"]})),o.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement(i.c,{store:te},r.a.createElement("div",{className:"ptr-light"},r.a.createElement("div",{className:"crnvrs-card-grid"},r.a.createElement("div",{className:"crnvrs-card-row"},r.a.createElement("div",{className:"crnvrs-card-group"},r.a.createElement(ee,null),r.a.createElement("div",{className:"crnvrs-card"})),r.a.createElement("div",{className:"crnvrs-card-group"},r.a.createElement("div",{className:"crnvrs-card"}),r.a.createElement("div",{className:"crnvrs-card"}))),r.a.createElement("div",{className:"crnvrs-card-row"},r.a.createElement("div",{className:"crnvrs-card-group vertical"},r.a.createElement(U,null)),r.a.createElement("div",{className:"crnvrs-card-group"},r.a.createElement(Q,{componentKey:"ConfirmedTotalTable"}),r.a.createElement(Y,{componentKey:"ConfirmedChangeTable"}))))))),document.getElementById("ptr")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[299,1,2]]]);
//# sourceMappingURL=main.56374824.chunk.js.map